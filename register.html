<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Register</title>
  <!-- Your CSS… -->
  <style>/* …existing styles… */</style>

  <!-- Firebase “compat” SDKs -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
</head>
<body>
  <div class="container">
    <h2>Register</h2>
    <!-- …social buttons… -->

    <form id="registerForm">
      <label for="email">Email Address<span>*</span></label>
      <input type="email" id="email" required>

      <label for="username">Username<span>*</span></label>
      <input type="text" id="username" required>

      <label for="password">Password<span>*</span></label>
      <input type="password" id="password" required>

      <!-- …other fields… -->

      <div class="actions-row">
        <button type="button" class="join-btn"
                onclick="window.location.href='login.html'">
          Already have an account? Log In
        </button>
        <button type="submit" class="login-btn">REGISTER</button>
      </div>
    </form>
  </div>

  <!-- Firebase + Registration Logic -->
  <script>
    // 1. Your Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSy…",
      authDomain: "quiz-app-1b48b.firebaseapp.com",
      projectId: "quiz-app-1b48b",
      // …other keys…
    };
    // 2. Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // 3. Hook up your registration form
    document.getElementById('registerForm')
      .addEventListener('submit', async function(e) {
        e.preventDefault();

        // Collect form values
        const email    = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        const username = document.getElementById('username').value;

        try {
          // 4. Create user with email & password
          const userCred = await auth
            .createUserWithEmailAndPassword(email, password);

          // 5. Optional: save extra profile data (username) in Firestore/Database here

          // 6. Send verification email
          await userCred.user.sendEmailVerification({
            // You can omit this object or customize action URL
            url: 'https://your-domain.com/login.html'
          });

          // 7. Notify user and redirect to login
          alert(`A verification link has been sent to ${email}. Please check your inbox.`);
          window.location.href = 'login.html';

        } catch (err) {
          // 8. Handle errors (show on page or alert)
          console.error(err);
          alert(err.message);
        }
      });
  </script>
</body>
</html>
